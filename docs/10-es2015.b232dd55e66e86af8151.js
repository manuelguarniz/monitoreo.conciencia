(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+ZCx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var c=i("ofXK"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Vb({type:e}),e.\u0275inj=a.Ub({factory:function(t){return new(t||e)},providers:[],imports:[[c.c]]}),e})()},uS7w:function(e,t,i){"use strict";i.r(t),i.d(t,"AdministracionModule",(function(){return me}));var c=i("3Pt+"),a=i("XKlN"),o=i("+0xr"),r=i("bTqV"),n=i("jaxi"),s=i("M9IT"),l=i("Dh3D"),d=i("ofXK"),u=i("2VzV"),m=i("AjF0"),p=i("tyNb"),b=i("1G5W"),h=i("XNiG"),f=i("mrSG");let v=(()=>{class e{constructor(e){this.userId=null==e?void 0:e.userId,this.firstName=null==e?void 0:e.firstName,this.lastName=null==e?void 0:e.lastName,this.email=null==e?void 0:e.email,this.typeIdentified=null==e?void 0:e.typeIdentified,this.identified=null==e?void 0:e.identified,this.gender=null==e?void 0:e.gender,this.urlPhoto=null==e?void 0:e.urlPhoto,this.movil=null==e?void 0:e.movil,this.jobTitle=null==e?void 0:e.jobTitle,this.codEmpleado=null==e?void 0:e.codEmpleado,this.preferenciaGlobalEmail=null==e?void 0:e.preferenciaGlobalEmail,this.preferenciaGlobalSms=null==e?void 0:e.preferenciaGlobalSms,this.fechaCreacion=null==e?void 0:e.fechaCreacion,this.modoVisualizacion=(null==e?void 0:e.modoVisualizacion)||"2"}}return Object(f.b)([Object(a.h)()],e.prototype,"userId",void 0),Object(f.b)([Object(a.i)({message:"El nombre es obligatorio."})],e.prototype,"firstName",void 0),Object(f.b)([Object(a.i)({message:"Los apellidos son obligatorios"})],e.prototype,"lastName",void 0),Object(f.b)([Object(a.i)({message:"El email es obligatorio"}),Object(a.d)()],e.prototype,"email",void 0),Object(f.b)([Object(a.i)({message:"El DNI es obligatorio"}),Object(a.g)({acceptValue:a.a.PositiveNumber,allowDecimal:!1}),Object(a.e)({value:8,message:"El DNI contiene 8 digitos"}),Object(a.f)({value:8,message:"El DNI contiene 8 digitos"})],e.prototype,"identified",void 0),Object(f.b)([Object(a.i)({message:"El Cargo es obligatorio"})],e.prototype,"jobTitle",void 0),Object(f.b)([Object(a.i)({message:"El g\xe9nero es obligatorio"})],e.prototype,"gender",void 0),Object(f.b)([Object(a.i)({message:"El C\xf3digo de empleado es obligatorio"})],e.prototype,"codEmpleado",void 0),Object(f.b)([Object(a.i)({message:"El M\xf3vil del empleado es obligatorio"})],e.prototype,"movil",void 0),Object(f.b)([Object(a.h)()],e.prototype,"modoVisualizacion",void 0),e})();var g=i("LAY5"),O=i("fXoL"),y=i("tk/3"),j=i("LRne"),C=i("AytR"),S=i("lJxs"),x=i("JIr8"),w=i("HVbQ"),U=i("TBmO");let M=(()=>{class e{constructor(e,t){this.http=e,this.alertModalService=t}deleteUserById(e){const t=(new y.c).set("user_id",""+e);return this.http.get(C.a.API_URL+"api/deleteUserById",{params:t}).pipe(Object(S.a)(e=>{let t=null;return 200===e.cod_respuesta&&(t=!0),t}),Object(x.a)(e=>{var t;return 400===(null===(t=e.error)||void 0===t?void 0:t.cod_respuesta)?this.alertModalService.alert(g.a.error,e.error.mensaje):this.alertModalService.alert(g.a.error,e.message||e.error.message),console.error(e),Object(j.a)([])}))}insertUser(e){return this.http.post(C.a.API_URL+"/api/v1/adm-usuario/usuario/registrar",{email:e.email,psswd:"123459",nombres:e.firstName,apellidos:e.lastName,tipo_documento:"DNI",num_documento:e.identified,foto:null,cargo:e.jobTitle,modo_visualizacion:"2x2",codigo_medico:e.codEmpleado,preferencia_global_email:"1",preferencia_global_sms:"1"}).pipe(Object(S.a)(e=>{let t=!1;if(200!==e.cod_respuesta)throw new Error(e.mensaje);return t=!0,!0}),Object(x.a)(e=>{var t;return 400===(null===(t=e.error)||void 0===t?void 0:t.cod_respuesta)?this.alertModalService.alert(g.a.error,e.error.mensaje):this.alertModalService.alert(g.a.error,e.message||e.error.message),Object(j.a)(!1)}))}updateUsuarios(e){const t=(new y.c).set("user",""+e);return this.http.post(C.a.API_URL+"api/updateUsers",{params:t}).pipe(Object(S.a)(e=>{let t=null;return 200===e.cod_respuesta&&(t=!0),t}),Object(x.a)(e=>{var t;return 400===(null===(t=e.error)||void 0===t?void 0:t.cod_respuesta)?this.alertModalService.alert(g.a.error,e.error.mensaje):this.alertModalService.alert(g.a.error,e.message||e.error.message),console.error(e),Object(j.a)([])}))}getUsuarios(){const e=(new y.c).set("estado","1");return this.http.get(C.a.API_URL+"/api/v1/adm-usuario/usuarios",{params:e}).pipe(Object(S.a)(e=>{let t=null;if(200!==e.cod_respuesta)throw new Error(e.mensaje);return t=e.respuesta[0].usuarios.map(e=>({userId:e.usuario_id,firstName:e.nombres,lastName:e.apellidos,email:e.email,typeIdentified:e.tipo_documento,identified:e.num_documento,urlPhoto:e.foto,gender:null,movil:null,jobTitle:e.cargo,codEmpleado:e.codigo_medico,preferenciaGlobalEmail:e.preferencia_global_email,preferenciaGlobalSms:e.preferencia_global_sms,modoVisualizacion:e.modo_visualizacion,fechaCreacion:w.a.parseUTCDate(e.fecha_creacion)})),t||[]}),Object(x.a)(e=>{var t;return 400===(null===(t=e.error)||void 0===t?void 0:t.cod_respuesta)?this.alertModalService.alert(g.a.error,e.error.mensaje):this.alertModalService.alert(g.a.error,e.message||e.error.message),console.error(e),Object(j.a)([])}))}}return e.\u0275fac=function(t){return new(t||e)(O.hc(y.a),O.hc(U.a))},e.\u0275prov=O.Tb({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{get userSelected(){return this.inUserSelected}set userSelected(e){this.inUserSelected=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=O.Tb({token:e,factory:e.\u0275fac}),e})(),F=(()=>{class e{constructor(){this.emitChange=new O.r}changeUploadFile(e){this.emitChange.next(e.target.files)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O.Rb({type:e,selectors:[["oxi-upload-file"]],inputs:{text:"text",accepted:"accepted",isMultiple:"isMultiple"},outputs:{emitChange:"emitChange"},decls:4,vars:3,consts:[[1,"upload-btn-wrapper"],[1,"btn"],["type","file","name","upload-file",3,"accept","multiple","change"]],template:function(e,t){1&e&&(O.dc(0,"div",0),O.dc(1,"button",1),O.Oc(2),O.cc(),O.dc(3,"input",2),O.lc("change",(function(e){return t.changeUploadFile(e)})),O.cc(),O.cc()),2&e&&(O.Kb(2),O.Pc(t.text),O.Kb(1),O.wc("accept",t.accepted),O.vc("multiple",t.isMultiple))},styles:[".upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.btn[_ngcontent-%COMP%]{cursor:pointer;border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0}"]}),e})();var I=i("kmnG"),K=i("qFsG"),E=i("d3UM"),G=i("FKr1");const R=["imgPreview"];function _(e,t){if(1&e&&(O.dc(0,"mat-option",35),O.Oc(1),O.cc()),2&e){const e=t.$implicit,i=O.pc();O.vc("disabled",i.isReadOnly)("value",e.description),O.Kb(1),O.Qc(" ",e.description,"")}}function B(e,t){if(1&e&&(O.dc(0,"mat-option",36),O.Oc(1),O.cc()),2&e){const e=t.$implicit,i=O.pc();O.vc("disabled",i.isReadOnly)("value",e.description),O.Kb(1),O.Pc(e.description)}}const T=function(e){return{"has-error":e}};let k=(()=>{class e{constructor(e,t,i,c,a,o,r){this.titleNavbarService=e,this.formBuilder=t,this.usersService=i,this.activeRouter=c,this.router=a,this.userInternalService=o,this.alertModalService=r,this.listGenders=[{value:"M",description:"Masculino"},{value:"F",description:"Femenino"},{value:"O",description:"Otros"}],this.listModeDisplay=[{value:"2",description:"2 x 2"},{value:"3",description:"3 x 3"}],this.unsubscribe$=new h.a,this.isReadOnly=!1,this.textButton="Guardar",this.tipo="",this.loadingButton=!1}ngOnInit(){this.titleNavbarService.setTitleNavbar("Usuarios"),this.settingForm(),this.listenerRouter(),this.settingView()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}settingForm(){this.userFormGroup=this.formBuilder.formGroup(new v)}settingView(){this.userInternalService.userSelected&&(this.userFormGroup=this.formBuilder.formGroup(this.userInternalService.userSelected))}submit(){if("detalles"==this.tipo)return this.loadingButton=!1,void this.router.navigate(["/administracion"]);if(!this.loadingButton){if(this.loadingButton=!0,!this.userFormGroup.valid)return this.loadingButton=!1,void this.alertModalService.alert(g.a.warning,"Se necesita completar todos los campos. ");{const e=this.userFormGroup.value;"modificar"==this.tipo&&this.usersService.updateUsuarios(e).pipe(Object(b.a)(this.unsubscribe$)).subscribe(e=>{this.loadingButton=!1,e&&(this.alertModalService.alert(g.a.success,"Actualizaci\xf3n con \xe9xito"),this.router.navigate(["/administracion"]))}),"crear"==this.tipo&&this.usersService.insertUser(e).pipe(Object(b.a)(this.unsubscribe$)).subscribe(e=>{this.loadingButton=!1,e&&(this.alertModalService.alert(g.a.success,"Registro con \xe9xito"),this.router.navigate(["/administracion"]))})}}}listenerRouter(){this.activeRouter.url.pipe(Object(b.a)(this.unsubscribe$)).subscribe(e=>{this.isReadOnly=!1,"detalles"===e[e.length-1].path?(this.title="Detalle de Usuario",this.textButton="Volver",this.tipo="detalles",this.isReadOnly=!0):"modificar"===e[e.length-1].path?(this.title="Modificar Usuario",this.textButton="Actualizar",this.tipo="modificar"):"configuraciones"===e[e.length-1].path?(this.title="Modificar Configuraciones de Usuario",this.textButton="Actualizar",this.tipo="config"):(this.title="Nuevo Usuario",this.textButton="Crear",this.tipo="crear")})}changeFileUpload(e){if(!this.isReadOnly&&e&&e[0]){const t=new FileReader;t.onload=e=>{this.imgPreview.nativeElement.setAttribute("src",e.target.result.toString())},t.readAsDataURL(e[0]),this.cachedImageUpload=e[0]}}trackByFn(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(O.Xb(m.a),O.Xb(a.b),O.Xb(M),O.Xb(p.a),O.Xb(p.b),O.Xb(N),O.Xb(U.a))},e.\u0275cmp=O.Rb({type:e,selectors:[["oxi-create-user"]],viewQuery:function(e,t){var i;1&e&&O.Tc(R,!0),2&e&&O.Bc(i=O.mc())&&(t.imgPreview=i.first)},decls:90,vars:47,consts:[[1,"row"],[1,"col-md-5"],[1,"card","card-user"],[1,"text-center",2,"height","160px"],[1,"content"],[1,"author"],["src","./assets/img/default-avatar.jpg","alt","...",1,"avatar","border-gray"],["imgPreview",""],[1,"title"],[3,"accepted","text","emitChange"],[1,"col-md-6"],[1,"card"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-md-12",3,"ngClass"],["appearance","outline",1,"form-group",2,"width","100%"],["matInput","","name","firstName","formControlName","firstName","type","text","autocomplete","nombres",3,"readonly"],["matInput","","name","lastName","formControlName","lastName","type","text","autocomplete","Apellidos",3,"readonly"],[1,"col-md-6",3,"ngClass"],["matInput","","name","email","formControlName","email","type","text","autocomplete","Email",3,"readonly"],["formControlName","gender"],["name","Genero",3,"disabled","value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-6",3,"hidden"],["formControlName","modoVisualizacion"],["name","modeVisualizacion",3,"disabled","value",4,"ngFor","ngForOf","ngForTrackBy"],["matInput","","name","DNI","formControlName","identified","type","text","autocomplete","Documento de Identidad",3,"readonly"],["matInput","","name","phone","formControlName","movil","type","text","autocomplete","phone",3,"readonly"],["matInput","","placeholder","Cargo","name","jobTitle","formControlName","jobTitle","type","text","autocomplete","Cargo",3,"readonly"],["matInput","","name","codEmpleado","formControlName","codEmpleado","type","text","autocomplete","C\xf3digo empleado",3,"readonly"],[1,"checkbox"],["id","chboxNotifEmail","type","checkbox","checked",""],["for","chboxNotifEmail"],["id","chboxNotifPhone","type","checkbox","checked",""],["for","chboxNotifPhone"],["type","submit",1,"btn","btn-oxipul","pull-right",3,"disabled"],[1,"clearfix"],["name","Genero",3,"disabled","value"],["name","modeVisualizacion",3,"disabled","value"]],template:function(e,t){1&e&&(O.dc(0,"div",0),O.dc(1,"div",1),O.dc(2,"div",2),O.dc(3,"div",3),O.dc(4,"legend"),O.Oc(5),O.cc(),O.cc(),O.dc(6,"div",4),O.dc(7,"div",5),O.Yb(8,"img",6,7),O.dc(10,"h4",8),O.Oc(11),O.qc(12,"uppercase"),O.Yb(13,"br"),O.dc(14,"small"),O.Oc(15),O.qc(16,"uppercase"),O.cc(),O.cc(),O.dc(17,"oxi-upload-file",9),O.lc("emitChange",(function(e){return t.changeFileUpload(e)})),O.cc(),O.cc(),O.cc(),O.Yb(18,"hr"),O.cc(),O.cc(),O.dc(19,"div",10),O.dc(20,"div",11),O.dc(21,"div",4),O.dc(22,"form",12),O.lc("ngSubmit",(function(){return t.submit()})),O.dc(23,"div",0),O.dc(24,"div",13),O.dc(25,"mat-form-field",14),O.dc(26,"mat-label"),O.Oc(27,"Nombres"),O.cc(),O.Yb(28,"input",15),O.cc(),O.cc(),O.cc(),O.dc(29,"div",0),O.dc(30,"div",13),O.dc(31,"mat-form-field",14),O.dc(32,"mat-label"),O.Oc(33,"Apellidos"),O.cc(),O.Yb(34,"input",16),O.cc(),O.cc(),O.cc(),O.dc(35,"div",0),O.dc(36,"div",17),O.dc(37,"mat-form-field",14),O.dc(38,"mat-label"),O.Oc(39,"Email"),O.cc(),O.Yb(40,"input",18),O.cc(),O.cc(),O.cc(),O.dc(41,"div",0),O.dc(42,"div",17),O.dc(43,"mat-form-field",14),O.dc(44,"mat-label"),O.Oc(45,"G\xe9nero"),O.cc(),O.dc(46,"mat-select",19),O.Mc(47,_,2,3,"mat-option",20),O.cc(),O.cc(),O.cc(),O.dc(48,"div",21),O.dc(49,"mat-form-field",14),O.dc(50,"mat-label"),O.Oc(51,"Modo de visualizaci\xf3n"),O.cc(),O.dc(52,"mat-select",22),O.Mc(53,B,2,3,"mat-option",23),O.cc(),O.cc(),O.cc(),O.cc(),O.dc(54,"div",0),O.dc(55,"div",17),O.dc(56,"mat-form-field",14),O.dc(57,"mat-label"),O.Oc(58,"Documento de Identidad"),O.cc(),O.Yb(59,"input",24),O.cc(),O.cc(),O.dc(60,"div",10),O.dc(61,"mat-form-field",14),O.dc(62,"mat-label"),O.Oc(63,"M\xf3vil"),O.cc(),O.Yb(64,"input",25),O.cc(),O.cc(),O.cc(),O.dc(65,"div",0),O.dc(66,"div",17),O.dc(67,"mat-form-field",14),O.dc(68,"mat-label"),O.Oc(69,"Cargo"),O.cc(),O.Yb(70,"input",26),O.cc(),O.cc(),O.dc(71,"div",17),O.dc(72,"mat-form-field",14),O.dc(73,"mat-label"),O.Oc(74,"C\xf3digo Empleado"),O.cc(),O.Yb(75,"input",27),O.cc(),O.cc(),O.cc(),O.dc(76,"div",0),O.dc(77,"div",10),O.dc(78,"div",28),O.Yb(79,"input",29),O.dc(80,"label",30),O.Oc(81," Env\xedo de notificaciones por correo "),O.cc(),O.cc(),O.cc(),O.dc(82,"div",10),O.dc(83,"div",28),O.Yb(84,"input",31),O.dc(85,"label",32),O.Oc(86," Env\xedo de notificaciones por Celular "),O.cc(),O.cc(),O.cc(),O.cc(),O.dc(87,"button",33),O.Oc(88),O.cc(),O.Yb(89,"div",34),O.cc(),O.cc(),O.cc(),O.cc(),O.cc()),2&e&&(O.Kb(5),O.Pc(t.title),O.Kb(6),O.Qc(" ",O.rc(12,29,t.userFormGroup.controls.lastName.value),""),O.Kb(4),O.Pc(O.rc(16,31,t.userFormGroup.controls.firstName.value)),O.Kb(2),O.vc("accepted","image/x-png,image/gif,image/jpeg")("text","Subir foto"),O.Kb(5),O.vc("formGroup",t.userFormGroup),O.Kb(2),O.vc("ngClass",O.zc(33,T,!t.userFormGroup.controls.firstName.valid)),O.Kb(4),O.vc("readonly",t.isReadOnly),O.Kb(2),O.vc("ngClass",O.zc(35,T,!t.userFormGroup.controls.lastName.valid)),O.Kb(4),O.vc("readonly",t.isReadOnly),O.Kb(2),O.vc("ngClass",O.zc(37,T,!t.userFormGroup.controls.email.valid)),O.Kb(4),O.vc("readonly",t.isReadOnly),O.Kb(2),O.vc("ngClass",O.zc(39,T,!t.userFormGroup.controls.gender.valid)),O.Kb(5),O.vc("ngForOf",t.listGenders)("ngForTrackBy",t.trackByFn),O.Kb(1),O.vc("hidden","config"!=t.tipo),O.Kb(5),O.vc("ngForOf",t.listModeDisplay)("ngForTrackBy",t.trackByFn),O.Kb(2),O.vc("ngClass",O.zc(41,T,!t.userFormGroup.controls.identified.valid)),O.Kb(4),O.vc("readonly",t.isReadOnly),O.Kb(5),O.vc("readonly",t.isReadOnly),O.Kb(2),O.vc("ngClass",O.zc(43,T,!t.userFormGroup.controls.jobTitle.valid)),O.Kb(4),O.vc("readonly",t.isReadOnly),O.Kb(1),O.vc("ngClass",O.zc(45,T,!t.userFormGroup.controls.codEmpleado.valid)),O.Kb(4),O.vc("readonly",t.isReadOnly),O.Kb(12),O.Ob("spinner",t.loadingButton),O.vc("disabled",t.loadingButton),O.Kb(1),O.Qc(" ",t.textButton," "))},directives:[F,c.u,c.p,c.i,a.j,d.k,I.b,I.e,K.b,c.c,c.o,c.g,a.l,a.k,E.a,d.l,G.k],pipes:[d.u],encapsulation:2}),e})();const D=["item","name","email","jobTitle","phone","action"];var z=i("vsyv"),P=i("NFeN");const $=["paginatorUsuario"],A=["sortUsuario"];function Y(e,t){1&e&&(O.bc(0),O.Oc(1," Cargando... "),O.ac())}function V(e,t){1&e&&(O.dc(0,"mat-header-cell",30),O.Oc(1," Item "),O.cc())}function X(e,t){if(1&e&&(O.dc(0,"mat-cell"),O.Oc(1),O.cc()),2&e){const e=t.index;O.Kb(1),O.Qc(" ",e+1," ")}}function L(e,t){1&e&&(O.dc(0,"mat-header-cell",30),O.Oc(1," Nombre y Apellidos "),O.cc())}function Q(e,t){if(1&e&&(O.dc(0,"mat-cell"),O.Oc(1),O.cc()),2&e){const e=t.$implicit;O.Kb(1),O.Rc(" ",e.firstName," ",e.lastName," ")}}function H(e,t){1&e&&(O.dc(0,"mat-header-cell",30),O.Oc(1," Email "),O.cc())}function q(e,t){if(1&e&&(O.dc(0,"mat-cell"),O.Oc(1),O.cc()),2&e){const e=t.$implicit;O.Kb(1),O.Qc(" ",e.email," ")}}function J(e,t){1&e&&(O.dc(0,"mat-header-cell",30),O.Oc(1," Cargo "),O.cc())}function Z(e,t){if(1&e&&(O.dc(0,"mat-cell"),O.Oc(1),O.cc()),2&e){const e=t.$implicit;O.Kb(1),O.Qc(" ",e.jobTitle," ")}}function W(e,t){1&e&&(O.dc(0,"mat-header-cell",30),O.Oc(1," Tel\xe9fono "),O.cc())}function ee(e,t){if(1&e&&(O.dc(0,"mat-cell"),O.Oc(1),O.cc()),2&e){const e=t.$implicit;O.Kb(1),O.Qc(" ",e.preferenciaGlobalSms," ")}}function te(e,t){1&e&&(O.dc(0,"mat-header-cell"),O.Oc(1," Acci\xf3n "),O.cc())}function ie(e,t){if(1&e){const e=O.ec();O.dc(0,"mat-cell"),O.dc(1,"button",31),O.lc("click",(function(){O.Fc(e);const i=t.$implicit;return O.pc(2).showDetail(i)})),O.Yb(2,"i",32),O.cc(),O.dc(3,"button",33),O.lc("click",(function(){O.Fc(e);const i=t.$implicit;return O.pc(2).deleteAlert(i)})),O.Yb(4,"i",34),O.cc(),O.cc()}2&e&&(O.Kb(3),O.Lc("margin-left",10,"px"))}function ce(e,t){1&e&&O.Yb(0,"mat-header-row")}function ae(e,t){1&e&&O.Yb(0,"mat-row")}function oe(e,t){1&e&&(O.dc(0,"div",35),O.Oc(1," No hay data "),O.cc())}function re(e,t){if(1&e){const e=O.ec();O.dc(0,"div",0),O.dc(1,"div",9),O.dc(2,"mat-form-field",10),O.dc(3,"mat-label"),O.Oc(4,"Buscar..."),O.cc(),O.dc(5,"input",11),O.lc("keyup",(function(t){return O.Fc(e),O.pc().applyFilter(t)})),O.cc(),O.dc(6,"mat-icon",12),O.Oc(7,"search"),O.cc(),O.cc(),O.cc(),O.dc(8,"div",13),O.dc(9,"button",14),O.lc("click",(function(){return O.Fc(e),O.pc().newUser()})),O.Oc(10," Nuevo Usuario "),O.cc(),O.cc(),O.cc(),O.dc(11,"div",15),O.dc(12,"mat-table",16,17),O.bc(14,18),O.Mc(15,V,2,0,"mat-header-cell",19),O.Mc(16,X,2,1,"mat-cell",20),O.ac(),O.bc(17,21),O.Mc(18,L,2,0,"mat-header-cell",19),O.Mc(19,Q,2,2,"mat-cell",20),O.ac(),O.bc(20,22),O.Mc(21,H,2,0,"mat-header-cell",19),O.Mc(22,q,2,1,"mat-cell",20),O.ac(),O.bc(23,23),O.Mc(24,J,2,0,"mat-header-cell",19),O.Mc(25,Z,2,1,"mat-cell",20),O.ac(),O.bc(26,24),O.Mc(27,W,2,0,"mat-header-cell",19),O.Mc(28,ee,2,1,"mat-cell",20),O.ac(),O.bc(29,25),O.Mc(30,te,2,0,"mat-header-cell",26),O.Mc(31,ie,5,2,"mat-cell",20),O.ac(),O.Mc(32,ce,1,0,"mat-header-row",27),O.Mc(33,ae,1,0,"mat-row",28),O.cc(),O.cc(),O.Mc(34,oe,2,0,"div",29)}if(2&e){const e=O.pc();O.Kb(12),O.Lc("min-width",1e3,"px"),O.vc("dataSource",e.dataSourceUsuario),O.Kb(20),O.vc("matHeaderRowDef",e.displayedColumns),O.Kb(1),O.vc("matRowDefColumns",e.displayedColumns),O.Kb(1),O.vc("ngIf",!e.dataSourceUsuario.data||0==e.dataSourceUsuario.data.length)}}const ne=function(e){return{display:e}},se=function(){return[5,10,15,25]},le=[{path:"",redirectTo:"usuarios",pathMatch:"full"},{path:"usuarios",component:(()=>{class e{constructor(e,t,i,c,a){this.router=e,this.titleNavbarService=t,this.alertModelService=i,this.usersService=c,this.userInternalService=a,this.loadingTable=!1,this.dataSourceUsuario=new o.k([]),this.unsubscribe$=new h.a}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnInit(){this.titleNavbarService.setTitleNavbar("Usuarios"),this.settingTable(),this.listUsuario()}settingTable(){this.displayedColumns=D,this.dataSourceUsuario.paginator=this.paginatorUsuario,this.paginatorUsuario._intl=Object(z.a)(),this.dataSourceUsuario.sort=this.sortUsuario}showDetail(e){this.userInternalService.userSelected=e,this.router.navigate(["/administracion/usuarios/registro"])}deleteAlert(e){this.alertModelService.alertCustomConfirm(g.a.warning,{html:`Esta seguro de eliminar el usuario: <strong>${e.firstName} ${e.lastName}</strong>.`,confirmButtonText:"Eliminar",confirmButtonColor:"#fa1825",cancelButtonText:"Cancelar"},"\xbfEst\xe1 seguro de eliminar el usuario?").pipe(Object(b.a)(this.unsubscribe$)).subscribe(e=>{e&&this.listUsuario()})}newUser(){this.router.navigate(["/administracion/usuarios/registro"])}applyFilter(e){this.dataSourceUsuario.filter=e.target.value.trim().toLowerCase()}listUsuario(){this.userInternalService.userSelected=null,this.loadingTable=!0,this.usersService.getUsuarios().pipe(Object(b.a)(this.unsubscribe$)).subscribe(e=>{this.loadingTable=!1,this.dataSourceUsuario.data=e.map(e=>new v(e))})}}return e.\u0275fac=function(t){return new(t||e)(O.Xb(p.b),O.Xb(m.a),O.Xb(U.a),O.Xb(M),O.Xb(N))},e.\u0275cmp=O.Rb({type:e,selectors:[["oxi-list-user"]],viewQuery:function(e,t){var i;1&e&&(O.Kc($,!0),O.Kc(A,!0)),2&e&&(O.Bc(i=O.mc())&&(t.paginatorUsuario=i.first),O.Bc(i=O.mc())&&(t.sortUsuario=i.first))},decls:11,vars:7,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"content"],[4,"ngIf","ngIfElse"],[1,"border-paginator-table",3,"ngStyle","pageSizeOptions"],["paginatorUsuario",""],["tableUsuarios",""],[1,"col-md-4"],["appearance","outline"],["type","text","matInput","",3,"keyup"],["matSuffix",""],[1,"col-md-8","text-right"],[1,"btn","btn-oxipul",3,"click"],[1,"table-responsive"],["matSort","",1,"mat-elevation-z0",3,"dataSource"],["sortUsuario","matSort"],["matColumnDef","item"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","jobTitle"],["matColumnDef","phone"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","footer-nodata-table",4,"ngIf"],["mat-sort-header",""],["rel","tooltip","title","Modificar usuario",1,"btn","btn-oxipul","btn-simple","btn-xs",3,"click"],[1,"fa","fa-edit",2,"font-size","25px"],["title","Eliminar usuario",1,"btn","btn-danger","btn-simple","btn-xs",3,"click"],[1,"fa","fa-times",2,"font-size","28px"],[1,"footer-nodata-table"]],template:function(e,t){if(1&e&&(O.dc(0,"div",0),O.dc(1,"div",1),O.dc(2,"div",2),O.dc(3,"div",3),O.Oc(4,"Listado Usuarios"),O.cc(),O.dc(5,"div",4),O.Mc(6,Y,2,0,"ng-container",5),O.Yb(7,"mat-paginator",6,7),O.cc(),O.cc(),O.cc(),O.cc(),O.Mc(9,re,35,6,"ng-template",null,8,O.Nc)),2&e){const e=O.Cc(10);O.Kb(6),O.vc("ngIf",t.loadingTable)("ngIfElse",e),O.Kb(1),O.vc("ngStyle",O.zc(4,ne,t.dataSourceUsuario&&t.dataSourceUsuario.data&&0!==t.dataSourceUsuario.data.length?"block":"none"))("pageSizeOptions",O.yc(6,se))}},directives:[d.m,s.a,d.n,I.b,I.e,K.b,P.a,I.f,o.j,l.a,o.c,o.e,o.b,o.g,o.i,o.d,l.b,o.a,o.f,o.h],encapsulation:2}),e})()},{path:"usuarios/registro",component:k},{path:"usuarios/configuraciones",component:k},{path:"hospitales",loadChildren:()=>i.e(13).then(i.bind(null,"8F1Q")).then(e=>e.HospitalsModule)},{path:"roles",loadChildren:()=>Promise.all([i.e(5),i.e(15)]).then(i.bind(null,"LSfY")).then(e=>e.RolesModule)},{path:"ventiladores",loadChildren:()=>i.e(12).then(i.bind(null,"eeMA")).then(e=>e.FansModule)}];let de=(()=>{class e{}return e.\u0275mod=O.Vb({type:e}),e.\u0275inj=O.Ub({factory:function(t){return new(t||e)},imports:[[p.e.forChild(le)],p.e]}),e})();var ue=i("+ZCx");let me=(()=>{class e{}return e.\u0275mod=O.Vb({type:e}),e.\u0275inj=O.Ub({factory:function(t){return new(t||e)},providers:[u.a,m.a,M,N],imports:[[d.c,c.j,c.s,a.c,d.c,o.l,s.c,l.c,de,ue.a,c.j,c.s,a.c,K.c,E.b,P.b],r.b,n.a,s.c]}),e})()}}]);