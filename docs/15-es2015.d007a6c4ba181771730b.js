(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{LSfY:function(e,c,t){"use strict";t.r(c),t.d(c,"RolesModule",(function(){return ue}));var a=t("ofXK"),i=t("tyNb"),o=t("+0xr"),l=t("0EQZ");const r=["select","permiso","descripcion"];var s=t("vsyv"),n=t("fXoL");let d=(()=>{class e{get roleSelected(){return this.inRoleSelected}set roleSelected(e){this.inRoleSelected=e}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275prov=n.Tb({token:e,factory:e.\u0275fac}),e})();var m=t("LRne");let u=(()=>{class e{constructor(){}listarRoles(){return Object(m.a)([{role:"ADMIN_GLOBAL",descripcion:"Acceso global",permisosAsociados:[],estados:!0},{role:"ADMIN_LOCAL",descripcion:"Modulo de Usuario y Registro de usuarios de rol USUARIO",permisosAsociados:[],estados:!0},{role:"USUARIO_SUPERVISOR",descripcion:"Modulo de usuario y Modulo de pacientes",permisosAsociados:[],estados:!0},{role:"USUARIO_VISUALIZADOR",descripcion:"Modulo de pacientes",permisosAsociados:[],estados:!0}])}listarPermisos(){return Object(m.a)([{permisoId:1,permiso:"PERMISO_MODULO_ADMINISTRACION",descripcion:"Permite visualizar el modulo de administraci\xf3n"},{permisoId:1,permiso:"PERMISO_MODULO_PACIENTES",descripcion:"Permite visualizar el modulo de pacientes"},{permisoId:1,permiso:"PERMISO_MODULO_ALERTAS",descripcion:"Permite visualizar el modulo de alertas"},{permisoId:1,permiso:"PERMISO_MODULO_DASHBOARD",descripcion:"Permite visualizar el modulo de dashboard"},{permisoId:1,permiso:"PERMISO_MODULO_OP_USUARIO",descripcion:"Permite visualizar el modulo opcional de usuarios"}])}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275prov=n.Tb({token:e,factory:e.\u0275fac}),e})();var p=t("AjF0"),b=t("Wp6s"),h=t("kmnG"),f=t("qFsG"),v=t("3Pt+"),g=t("bSwM"),S=t("M9IT"),O=t("Dh3D");const w=["paginatorPermisos"],M=["sortPermisos"];function R(e,c){1&e&&(n.bc(0),n.Oc(1," Cargando... "),n.ac())}function A(e,c){if(1&e){const e=n.ec();n.dc(0,"mat-header-cell",28),n.dc(1,"mat-checkbox",29),n.lc("change",(function(c){n.Fc(e);const t=n.pc(2);return c?t.masterToggle():null})),n.cc(),n.cc()}if(2&e){const e=n.pc(2);n.Kb(1),n.vc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function D(e,c){if(1&e){const e=n.ec();n.dc(0,"mat-cell",30),n.dc(1,"mat-checkbox",31),n.lc("click",(function(c){return n.Fc(e),c.stopPropagation()}))("change",(function(t){n.Fc(e);const a=c.$implicit,i=n.pc(2);return t?i.selection.toggle(a):null})),n.cc(),n.cc()}if(2&e){const e=c.$implicit,t=n.pc(2);n.Kb(1),n.vc("checked",t.selection.isSelected(e))("aria-label",t.checkboxLabel(e))}}function I(e,c){1&e&&(n.dc(0,"mat-header-cell",32),n.Oc(1," Permiso "),n.cc())}function P(e,c){if(1&e&&(n.dc(0,"mat-cell"),n.Oc(1),n.cc()),2&e){const e=c.$implicit;n.Kb(1),n.Qc(" ",e.permiso," ")}}function y(e,c){1&e&&(n.dc(0,"mat-header-cell",32),n.Oc(1," Descripci\xf3n "),n.cc())}function C(e,c){if(1&e&&(n.dc(0,"mat-cell"),n.Oc(1),n.cc()),2&e){const e=c.$implicit;n.Kb(1),n.Qc(" ",e.descripcion," ")}}function x(e,c){1&e&&n.Yb(0,"mat-header-row")}function k(e,c){if(1&e){const e=n.ec();n.dc(0,"mat-row",33),n.lc("click",(function(){n.Fc(e);const t=c.$implicit;return n.pc(2).selection.toggle(t)})),n.cc()}}function K(e,c){if(1&e&&(n.dc(0,"div",16),n.dc(1,"mat-table",17,18),n.bc(3,19),n.Mc(4,A,2,3,"mat-header-cell",20),n.Mc(5,D,2,2,"mat-cell",21),n.ac(),n.bc(6,22),n.Mc(7,I,2,0,"mat-header-cell",23),n.Mc(8,P,2,1,"mat-cell",24),n.ac(),n.bc(9,25),n.Mc(10,y,2,0,"mat-header-cell",23),n.Mc(11,C,2,1,"mat-cell",24),n.ac(),n.Mc(12,x,1,0,"mat-header-row",26),n.Mc(13,k,1,0,"mat-row",27),n.cc(),n.cc()),2&e){const e=n.pc();n.Kb(1),n.Lc("min-width",1e3,"px"),n.vc("dataSource",e.dataSourcePermisos),n.Kb(11),n.vc("matHeaderRowDef",e.displayedColumns),n.Kb(1),n.vc("matRowDefColumns",e.displayedColumns)}}const T=function(e){return{display:e}},L=function(){return[5,10,15,25]};let N=(()=>{class e{constructor(e,c,t){this.roleInternalService=e,this.roleService=c,this.titleNavbarService=t,this.title="Modificar Roles",this.textButton="Guardar",this.loadingButton=!1,this.loadingTable=!1,this.dataSourcePermisos=new o.k([]),this.selection=new l.c(!0,[])}ngOnInit(){this.titleNavbarService.setTitleNavbar("Asginaci\xf3n de roles"),this.role=this.roleInternalService.roleSelected,this.settingTable(),this.listarPermisos()}settingTable(){this.displayedColumns=r,this.dataSourcePermisos.paginator=this.paginatorPermisos,this.dataSourcePermisos.paginator._intl=Object(s.a)(),this.dataSourcePermisos.sort=this.sortAlert}listarPermisos(){this.loadingTable=!0,this.dataSourcePermisos.data=[],this.roleService.listarPermisos().subscribe(e=>{this.loadingTable=!1,this.dataSourcePermisos.data=e})}onSaveRole(){}isAllSelected(){return this.selection.selected.length===this.dataSourcePermisos.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSourcePermisos.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.permisoId}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(c){return new(c||e)(n.Xb(d),n.Xb(u),n.Xb(p.a))},e.\u0275cmp=n.Rb({type:e,selectors:[["oxi-create-update-roles"]],viewQuery:function(e,c){var t;1&e&&(n.Kc(w,!0),n.Kc(M,!0)),2&e&&(n.Bc(t=n.mc())&&(c.paginatorPermisos=t.first),n.Bc(t=n.mc())&&(c.sortAlert=t.first))},decls:31,vars:17,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"content"],[1,"col-md-6","col-xs-12"],[1,"mat-elevation-z0","outline","full-width"],["appearance","outline",1,"col-md-12"],["matInput","",3,"ngModel"],[1,"col-md-12",3,"checked"],[4,"ngIf","ngIfElse"],[1,"border-paginator-table",3,"ngStyle","pageSizeOptions"],["paginatorPermisos",""],["mat-raised-button","","color","primary",1,"btn","btn-oxipul","pull-right",3,"disabled","click"],[1,"clearfix"],["tablePermisos",""],[1,"table-responsive"],["matSort","",1,"mat-elevation-z0",3,"dataSource"],["sortPermisos","matSort"],["matColumnDef","select"],["mat-sort-header","","style","max-width: 80px; width: 80px;",4,"matHeaderCellDef"],["style","max-width: 80px; width: 80px;",4,"matCellDef"],["matColumnDef","permiso"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","descripcion"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],["mat-sort-header","",2,"max-width","80px","width","80px"],[3,"checked","indeterminate","aria-label","change"],[2,"max-width","80px","width","80px"],[3,"checked","aria-label","click","change"],["mat-sort-header",""],[3,"click"]],template:function(e,c){if(1&e&&(n.dc(0,"div",0),n.dc(1,"div",1),n.dc(2,"div",2),n.dc(3,"div",3),n.Oc(4),n.cc(),n.dc(5,"div",4),n.dc(6,"div",0),n.dc(7,"div",5),n.dc(8,"mat-card",6),n.dc(9,"mat-card-content"),n.dc(10,"mat-form-field",7),n.dc(11,"mat-label"),n.Oc(12,"Rol"),n.cc(),n.Yb(13,"input",8),n.cc(),n.dc(14,"mat-form-field",7),n.dc(15,"mat-label"),n.Oc(16,"Descripci\xf3n"),n.cc(),n.Yb(17,"input",8),n.cc(),n.dc(18,"mat-checkbox",9),n.Oc(19," Estado "),n.cc(),n.cc(),n.cc(),n.cc(),n.dc(20,"div",5),n.Mc(21,R,2,0,"ng-container",10),n.Yb(22,"mat-paginator",11,12),n.cc(),n.cc(),n.dc(24,"div",0),n.dc(25,"div",1),n.dc(26,"button",13),n.lc("click",(function(){return c.onSaveRole()})),n.Oc(27),n.cc(),n.Yb(28,"div",14),n.cc(),n.cc(),n.cc(),n.cc(),n.cc(),n.cc(),n.Mc(29,K,14,5,"ng-template",null,15,n.Nc)),2&e){const e=n.Cc(30);n.Kb(4),n.Pc(c.title),n.Kb(9),n.vc("ngModel",null==c.role?null:c.role.role),n.Kb(4),n.vc("ngModel",null==c.role?null:c.role.descripcion),n.Kb(1),n.vc("checked",null==c.role?null:c.role.estados),n.Kb(3),n.vc("ngIf",c.loadingTable)("ngIfElse",e),n.Kb(1),n.vc("ngStyle",n.zc(14,T,c.dataSourcePermisos&&c.dataSourcePermisos.data&&0!==c.dataSourcePermisos.data.length?"block":"none"))("pageSizeOptions",n.yc(16,L)),n.Kb(3),n.Lc("margin-top",15,"px"),n.Kb(1),n.Ob("spinner",c.loadingButton),n.vc("disabled",c.loadingButton),n.Kb(1),n.Qc(" ",c.textButton," ")}},directives:[b.a,b.c,h.b,h.e,f.b,v.c,v.o,v.r,g.a,a.m,S.a,a.n,o.j,O.a,o.c,o.e,o.b,o.g,o.i,o.d,O.b,o.a,o.f,o.h],styles:[""]}),e})();class U{constructor(e){this.role=null==e?void 0:e.role,this.descripcion=null==e?void 0:e.descripcion,this.permisosAsociados=null==e?void 0:e.permisosAsociados,this.estados=null==e?void 0:e.estados}}var E=t("XNiG");const _=["item","role","descripcion","cantPermisos","estado","action"];var $=t("1G5W"),z=t("TBmO"),B=t("NFeN");const j=["paginatorAlert"],F=["sortAlert"];function X(e,c){1&e&&(n.bc(0),n.Oc(1," Cargando... "),n.ac())}function Q(e,c){1&e&&(n.dc(0,"mat-header-cell",28),n.Oc(1," Item "),n.cc())}function H(e,c){if(1&e&&(n.dc(0,"mat-cell"),n.Oc(1),n.cc()),2&e){const e=c.index;n.Kb(1),n.Qc(" ",e+1," ")}}function Y(e,c){1&e&&(n.dc(0,"mat-header-cell",28),n.Oc(1," Rol "),n.cc())}function G(e,c){if(1&e&&(n.dc(0,"mat-cell"),n.Oc(1),n.cc()),2&e){const e=c.$implicit;n.Kb(1),n.Qc(" ",e.role," ")}}function V(e,c){1&e&&(n.dc(0,"mat-header-cell",28),n.Oc(1," Descripci\xf3n "),n.cc())}function J(e,c){if(1&e&&(n.dc(0,"mat-cell"),n.Oc(1),n.cc()),2&e){const e=c.$implicit;n.Kb(1),n.Qc(" ",e.descripcion," ")}}function W(e,c){1&e&&(n.dc(0,"mat-header-cell",28),n.Oc(1," Cantidad de permisos Asociados "),n.cc())}function Z(e,c){if(1&e&&(n.dc(0,"mat-cell"),n.Oc(1),n.cc()),2&e){const e=c.$implicit;n.Kb(1),n.Qc(" ",e.permisosAsociados.length," ")}}function q(e,c){1&e&&(n.dc(0,"mat-header-cell",28),n.Oc(1," Estado "),n.cc())}function ee(e,c){1&e&&(n.dc(0,"mat-cell"),n.Oc(1," Activo "),n.cc())}function ce(e,c){1&e&&(n.dc(0,"mat-header-cell"),n.Oc(1," Acci\xf3n "),n.cc())}function te(e,c){if(1&e){const e=n.ec();n.dc(0,"mat-cell"),n.dc(1,"button",29),n.lc("click",(function(){n.Fc(e);const t=c.$implicit;return n.pc(2).showDetail(t)})),n.Oc(2," Modificar "),n.cc(),n.cc()}}function ae(e,c){1&e&&n.Yb(0,"mat-header-row")}function ie(e,c){1&e&&n.Yb(0,"mat-row")}function oe(e,c){1&e&&(n.dc(0,"div",30),n.Oc(1," No hay data "),n.cc())}function le(e,c){if(1&e){const e=n.ec();n.dc(0,"div",0),n.dc(1,"div",9),n.dc(2,"mat-form-field",10),n.dc(3,"mat-label"),n.Oc(4,"Buscar..."),n.cc(),n.dc(5,"input",11),n.lc("keyup",(function(c){return n.Fc(e),n.pc().applyFilter(c)})),n.cc(),n.dc(6,"mat-icon",12),n.Oc(7,"search"),n.cc(),n.cc(),n.cc(),n.cc(),n.dc(8,"div",13),n.dc(9,"mat-table",14,15),n.bc(11,16),n.Mc(12,Q,2,0,"mat-header-cell",17),n.Mc(13,H,2,1,"mat-cell",18),n.ac(),n.bc(14,19),n.Mc(15,Y,2,0,"mat-header-cell",17),n.Mc(16,G,2,1,"mat-cell",18),n.ac(),n.bc(17,20),n.Mc(18,V,2,0,"mat-header-cell",17),n.Mc(19,J,2,1,"mat-cell",18),n.ac(),n.bc(20,21),n.Mc(21,W,2,0,"mat-header-cell",17),n.Mc(22,Z,2,1,"mat-cell",18),n.ac(),n.bc(23,22),n.Mc(24,q,2,0,"mat-header-cell",17),n.Mc(25,ee,2,0,"mat-cell",18),n.ac(),n.bc(26,23),n.Mc(27,ce,2,0,"mat-header-cell",24),n.Mc(28,te,3,0,"mat-cell",18),n.ac(),n.Mc(29,ae,1,0,"mat-header-row",25),n.Mc(30,ie,1,0,"mat-row",26),n.cc(),n.cc(),n.Mc(31,oe,2,0,"div",27)}if(2&e){const e=n.pc();n.Kb(9),n.Lc("min-width",1e3,"px"),n.vc("dataSource",e.dataSourceRoles),n.Kb(20),n.vc("matHeaderRowDef",e.displayedColumns),n.Kb(1),n.vc("matRowDefColumns",e.displayedColumns),n.Kb(1),n.vc("ngIf",!e.dataSourceRoles.data||0==e.dataSourceRoles.data.length)}}const re=function(e){return{display:e}},se=function(){return[5,10,15,25]},ne=[{path:"",component:(()=>{class e{constructor(e,c,t,a,i){this.router=e,this.titleNavbarService=c,this.alertModelService=t,this.roleService=a,this.roleInternalService=i,this.loadingTable=!1,this.dataSourceRoles=new o.k([]),this.unsubscribe$=new E.a}ngOnInit(){this.titleNavbarService.setTitleNavbar("Roles"),this.settingTable(),this.listAlert()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}settingTable(){this.displayedColumns=_,this.dataSourceRoles.paginator=this.paginatorAlert,this.paginatorAlert._intl=Object(s.a)(),this.dataSourceRoles.sort=this.sortAlert}showDetail(e){this.roleInternalService.roleSelected=e,this.router.navigate(["/administracion/roles/detalle"])}newAlert(){this.router.navigate(["/alertas/crear"])}applyFilter(e){this.dataSourceRoles.filter=e.target.value.trim().toLowerCase()}listAlert(){this.loadingTable=!0,this.roleService.listarRoles().pipe(Object($.a)(this.unsubscribe$)).subscribe(e=>{this.loadingTable=!1,this.dataSourceRoles.data=e.map(e=>new U(e))})}}return e.\u0275fac=function(c){return new(c||e)(n.Xb(i.b),n.Xb(p.a),n.Xb(z.a),n.Xb(u),n.Xb(d))},e.\u0275cmp=n.Rb({type:e,selectors:[["oxi-list-roles"]],viewQuery:function(e,c){var t;1&e&&(n.Kc(j,!0),n.Kc(F,!0)),2&e&&(n.Bc(t=n.mc())&&(c.paginatorAlert=t.first),n.Bc(t=n.mc())&&(c.sortAlert=t.first))},decls:11,vars:7,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"content"],[4,"ngIf","ngIfElse"],[1,"border-paginator-table",3,"ngStyle","pageSizeOptions"],["paginatorAlert",""],["tableAlert",""],[1,"col-md-4"],["appearance","outline"],["type","text","matInput","",3,"keyup"],["matSuffix",""],[1,"table-responsive"],["matSort","",1,"mat-elevation-z0",3,"dataSource"],["sortAlert","matSort"],["matColumnDef","item"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","role"],["matColumnDef","descripcion"],["matColumnDef","cantPermisos"],["matColumnDef","estado"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","footer-nodata-table",4,"ngIf"],["mat-sort-header",""],[1,"btn","btn-oxipul",3,"click"],[1,"footer-nodata-table"]],template:function(e,c){if(1&e&&(n.dc(0,"div",0),n.dc(1,"div",1),n.dc(2,"div",2),n.dc(3,"div",3),n.Oc(4,"Listado de Roles"),n.cc(),n.dc(5,"div",4),n.Mc(6,X,2,0,"ng-container",5),n.Yb(7,"mat-paginator",6,7),n.cc(),n.cc(),n.cc(),n.cc(),n.Mc(9,le,32,6,"ng-template",null,8,n.Nc)),2&e){const e=n.Cc(10);n.Kb(6),n.vc("ngIf",c.loadingTable)("ngIfElse",e),n.Kb(1),n.vc("ngStyle",n.zc(4,re,c.dataSourceRoles&&c.dataSourceRoles.data&&0!==c.dataSourceRoles.data.length?"block":"none"))("pageSizeOptions",n.yc(6,se))}},directives:[a.m,S.a,a.n,h.b,h.e,f.b,B.a,h.f,o.j,O.a,o.c,o.e,o.b,o.g,o.i,o.d,O.b,o.a,o.f,o.h],styles:[""]}),e})()},{path:"detalle",component:N},{path:"crear",component:N}];let de=(()=>{class e{}return e.\u0275mod=n.Vb({type:e}),e.\u0275inj=n.Ub({factory:function(c){return new(c||e)},imports:[[i.e.forChild(ne)],i.e]}),e})();var me=t("tk/3");let ue=(()=>{class e{}return e.\u0275mod=n.Vb({type:e}),e.\u0275inj=n.Ub({factory:function(c){return new(c||e)},providers:[z.a,p.a,u,d],imports:[[a.c,v.j,de,O.c,S.c,me.b,o.l,b.f,f.c,B.b,g.b]]}),e})()}}]);